function tfOpenForm(t,e){var n,a,o;for(a=document.getElementsByClassName("tf-tabcontent"),n=0;n<a.length;n++)a[n].style.display="none";for(o=document.getElementsByClassName("tf-tablinks"),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" active","");document.getElementById(e).style.display="block",document.getElementById(e).style.transition="all 0.2s",t.currentTarget.className+=" active"}function tf_load_rating(){jQuery("#commentform").show()}!function(t,e){t(document).ready(function(){const n=new Notyf({ripple:!0,duration:3e3,dismissable:!0,position:{x:"right",y:"bottom"}});t(document).on("click","#tf-single-hotel-avail .tf-submit",function(e){if(e.preventDefault(),""!=t.trim(t("input[name=check-in-out-date]").val())){var n={action:"tf_room_availability",tf_room_avail_nonce:t("input[name=tf_room_avail_nonce]").val(),post_id:t("input[name=post_id]").val(),adult:t("select[name=adults] option").filter(":selected").val(),child:t("select[name=children] option").filter(":selected").val(),check_in_out:t("input[name=check-in-out-date]").val()};jQuery.ajax({url:tf_params.ajax_url,type:"post",data:n,success:function(e){t("html, body").animate({scrollTop:t("#rooms").offset().top},500),t("#rooms").html(e)},error:function(t,e){var n="";if(0===t.status)n="Not connect.\n Verify Network.";else if(404==t.status)n="Requested page not found. [404]";else if(500==t.status)n="Internal Server Error [500].";else if("parsererror"===e)n="Requested JSON parse failed.";else if("timeout"===e)n="Time out error.";else if("abort"===e)n="Ajax request aborted.";else n="Uncaught Error.\n"+t.responseText;alert(n)}})}else t(".tf_booking-dates .tf_label-row").append('<span clss="required"><b>'+tf_params.field_required+"</b></span>")}),t(document).on("click",".hotel-room-availability",function(e){e.preventDefault(),t("html, body").animate({scrollTop:t("#tf-single-hotel-avail").offset().top},500)}),t(document).on("click",".hotel-room-book",function(e){e.preventDefault();var n=t(this),a={action:"tf_hotel_booking",tf_room_booking_nonce:t("input[name=tf_room_booking_nonce]").val(),post_id:t("input[name=post_id]").val(),room_id:t(this).closest(".room-submit-wrap").find("input[name=room_id]").val(),location:t("input[name=place]").val(),adult:t("input[name=adult]").val(),child:t("input[name=child]").val(),check_in_date:t("input[name=check_in_date]").val(),check_out_date:t("input[name=check_out_date]").val(),room:t(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val()};t.ajax({type:"post",url:tf_params.ajax_url,data:a,beforeSend:function(e){n.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),t(".tf_notice_wrapper").html("").hide()},complete:function(t){n.unblock()},success:function(e){n.unblock();var a=JSON.parse(e);if("error"==a.status){var o="";return a.errors&&a.errors.forEach(function(t){o+='<div class="woocommerce-error">'+t+"</div>"}),t(".tf_notice_wrapper").html(o).show(),t("html, body").animate({scrollTop:0},300),!1}a.redirect_to?window.location.replace(a.redirect_to):jQuery(document.body).trigger("added_to_cart")},error:function(t){console.log(t)}})}),t('[data-fancybox="hotel-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1});var a,o=t(".swiper-button-prev"),s=t(".swiper-button-next");t(".single-slider-wrapper .tf_slider-for").slick({slide:".slick-slide-item",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!1,centerMode:!1,variableWidth:!1}),o.on("click",function(){t(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickPrev")}),s.on("click",function(){t(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickNext")}),t(".reserve-button a").click(function(){t("html, body").animate({scrollTop:t("#rooms").offset().top-32},1e3)}),t(document).on("submit","form.tf_tours_booking",function(e){e.preventDefault();var n=t(this),a=new FormData(this);a.append("action","tf_tours_booking");var o=0;jQuery(".tour-extra-single input:checkbox:checked").each(function(){o+=isNaN(parseInt(jQuery(this).val()))?0:parseInt(jQuery(this).val())}),a.append("tour_extra_total",o);var s=t(".tour-extra-single input:checkbox:checked").map(function(){return t(this).data("title")}).get();a.append("tour_extra_title",s),t.ajax({type:"post",url:tf_params.ajax_url,data:a,processData:!1,contentType:!1,beforeSend:function(e){n.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),t(".tf_notice_wrapper").html("").hide()},complete:function(t){n.unblock()},success:function(e){n.unblock();var a=JSON.parse(e);if("error"==a.status){var o="";return a.errors&&a.errors.forEach(function(t){o+='<div class="woocommerce-error">'+t+"</div>"}),t(".tf_notice_wrapper").html(o).show(),t("html, body").animate({scrollTop:0},300),!1}a.redirect_to?window.location.replace(a.redirect_to):jQuery(document.body).trigger("added_to_cart"),console.log(a)},error:function(t){console.log(t)}})}),t('[data-fancybox="tour-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1}),t(".tf-single-tour-pricing .tf-price-tab li").click(function(){var e=t(this).attr("id");t(this).addClass("active").siblings().removeClass("active"),t(".tf-price").addClass("tf-d-n"),t("."+e+"-price").removeClass("tf-d-n")});const i=()=>{var e=t("#tf-place").val(),o=t("#adults").val(),s=t("#room").val(),i=t("#children").val(),r=t("#check-in-out-date").val(),l=r.split(" to "),c=l[0],d=l[1],u=t(".tf-post-type").val(),f=[];t("[name*=tf_filters]").each(function(){t(this).is(":checked")&&f.push(t(this).val())});f=f.join();var p=[];t("[name*=tf_features]").each(function(){t(this).is(":checked")&&p.push(t(this).val())});p=p.join();var m=new FormData;m.append("action","tf_trigger_filter"),m.append("type",u),m.append("dest",e),m.append("adults",o),m.append("room",s),m.append("children",i),m.append("checkin",c),m.append("checkout",d),m.append("filters",f),m.append("features",p),m.append("checked",r),a&&4!=a.readyState&&a.abort(),a=t.ajax({type:"post",url:tf_params.ajax_url,data:m,processData:!1,contentType:!1,beforeSend:function(e){t(".archive_ajax_result").block({message:null,overlayCSS:{background:"#fff",opacity:.5}})},complete:function(e){t(".archive_ajax_result").unblock()},success:function(e){t(".archive_ajax_result").unblock(),t(".archive_ajax_result").html(e),n.success(tf_params.ajax_result_success)},error:function(t){console.log(t)}})};t(document).on("submit","#tf-widget-booking-search",function(t){t.preventDefault(),i()}),t(document).on("change","[name*=tf_filters],[name*=tf_features]",function(){i()}),t.fn.inViewport=function(n){return this.each(function(a,o){function s(){var e=t(this).height(),a=o.getBoundingClientRect(),s=a.top,i=a.bottom;return n.call(o,Math.max(0,s>0?e-s:i<e?i:e))}s(),t(e).on("resize scroll",s)})},t(window).load(function(){jQuery("[data-width]").each(function(){var t=jQuery(this),e=t.attr("data-width");t.inViewport(function(n){n>0?t.css("width",+e+"%"):t.css("width","0%")})})}),t('.share-toggle[data-toggle="true"]').click(function(e){e.preventDefault();var n=t(this).attr("href");t(n).slideToggle("fast")}),t("button#share_link_button").click(function(){t(this).addClass("copied"),setTimeout(function(){t("button#share_link_button").removeClass("copied")},3e3),t(this).parent().find("#share_link_input").select(),document.execCommand("copy")}),t(".faq-head").click(function(e){t(this).parent().toggleClass("active").find(".faq-content").slideToggle("fast")}),t(".itinerary-head").on("click",function(e){t(this).parent().toggleClass("active").find(".itinerary-content").slideToggle("fast")}),t(".tf-suggestion-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(".tf-review-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:2e3,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]});const r=()=>{let t=localStorage.getItem("wishlist_item");return null===t?[]:JSON.parse(t)},l=()=>{let e=t(".tf-wishlist-holder");t.each(e,function(e,n){let a=t(n).data("type");a=a?a.split(","):void 0;let o=r();void 0!==a&&(o=o.filter(t=>a.includes(t.type)));let s=o.map(t=>t.post),i={nonce:t(n).data("nonce"),action:"tf_generate_table",ids:s};t.post(tf_params.ajax_url,i,function(e){e.success&&t(n).html(e.data)})})},c=t=>{t.addClass("remove-wishlist"),t.addClass("fas"),t.addClass("tf-text-red"),t.removeClass("far"),t.removeClass("add-wishlist")},d=t=>{t.addClass("add-wishlist"),t.addClass("far"),t.removeClass("fas"),t.removeClass("tf-text-red"),t.removeClass("remove-wishlist")};function u(t,e){var n;function a(t){if(!t)return!1;!function(t){for(var e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}(t),n>=t.length&&(n=0),n<0&&(n=t.length-1),t[n].classList.add("autocomplete-active")}function o(e){for(var n=document.getElementsByClassName("autocomplete-items"),a=0;a<n.length;a++)e!=n[a]&&e!=t&&n[a].parentNode.removeChild(n[a])}t.addEventListener("input",function(a){var s,i,r=this.value;if(o(),!r)return!1;n=-1,(s=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),s.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(s);var l=[];for(const[n,a]of Object.entries(e))a.substr(0,r.length).toUpperCase()==r.toUpperCase()?(l.push("found"),(i=document.createElement("DIV")).innerHTML="<strong>"+a.substr(0,r.length)+"</strong>",i.innerHTML+=a.substr(r.length),i.innerHTML+=`<input type='hidden' value="${a}" data-slug='${n}'> `,i.addEventListener("click",function(e){let n=this.getElementsByTagName("input")[0];t.value=n.value,t.closest("input").nextElementSibling.value=n.dataset.slug,o()}),s.appendChild(i)):l.push("notfound");-1==l.indexOf("found")&&((i=document.createElement("DIV")).innerHTML+="Not Found",i.innerHTML+="<input type='hidden' value=''>",i.addEventListener("click",function(e){t.value=this.getElementsByTagName("input")[0].value,o()}),s.appendChild(i))}),t.addEventListener("keydown",function(t){var e=document.getElementById(this.id+"autocomplete-list");e&&(e=e.getElementsByTagName("div")),40==t.keyCode?(n++,a(e)):38==t.keyCode?(n--,a(e)):13==t.keyCode&&(t.preventDefault(),n>-1&&e&&e[n].click())}),document.addEventListener("click",function(t){o(t.target)})}t(document).on("click",".add-wishlist",function(){let e=t(".add-wishlist"),a={type:e.data("type"),post:e.data("id")},o=e.data("page-title"),s=e.data("page-url"),i=void 0!==s?'<a class="wish-button" href="'+s+'">'+o+"</a>":"";return t("body").hasClass("logged-in")?(a.action="tf_add_to_wishlists",a.nonce=e.data("nonce"),t.ajax({type:"post",url:tf_params.ajax_url,data:a,beforeSend:function(t){n.success(tf_params.wishlist_add)},success:function(t){t.success&&(c(e),n.success({message:t.data+i,duration:4e3}))}})):!0===(t=>{let e=r();return 0===e.filter(e=>e.post==t.post).length&&(e.push(t),localStorage.setItem("wishlist_item",JSON.stringify(e)),!0)})(a)?(n.success(tf_params.wishlist_add),c(e),n.success({message:tf_params.wishlist_added+i,duration:4e3})):n.error(tf_params.wishlist_add_error),!1}),t("body").find(".tf-wishlist-holder").length&&l(),t(document).on("click",".remove-wishlist",function(){let e=t(".remove-wishlist"),a=e.data("id");if(t("body").hasClass("logged-in")){let o=e.closest("table"),s={id:a,action:"tf_remove_wishlist",type:o.data("type"),nonce:e.data("nonce")};t.get(tf_params.ajax_url,s,function(t){t.success&&("1"!=tf_params.single&&o.closest(".tf-wishlists").html(t.data),d(e),n.success(tf_params.wishlist_removed))})}else 1==(t=>{let e=r(),n=e.findIndex(e=>e.post==t);return console.log(n,t,e),n>=0&&(e.splice(n,1),console.log(e),localStorage.setItem("wishlist_item",JSON.stringify(e)),"1"!=tf_params.single&&l(),!0)})(a)?(d(e),n.success(tf_params.wishlist_removed)):n.error(tf_params.wishlist_remove_error)}),(()=>{if(!t(document).hasClass("logged-in")&&t(document).find(".add-wishlist")){let e=t(".add-wishlist"),n=e.data("id");r().findIndex(t=>t.post==n)>=0?c(e):d(e)}})();var f=document.getElementById("tf-location"),p=tf_params.locations;f&&u(f,p);var m=document.getElementById("tf-destination"),h=tf_params.tour_destinations;m&&u(m,h),t(window).scroll(function(){var e=t(".tf-tour-booking-wrap");t(window).scrollTop()>=800?e.addClass("tf-tours-fixed"):e.removeClass("tf-tours-fixed")}),t(document).on("click",".tf_selectperson-wrap .tf_input-inner,.tf_person-selection-wrap .tf_person-selection-inner",function(){t(".tf_acrselection-wrap").slideToggle("fast")}),jQuery(document).on("click",function(t){jQuery(t.target).closest(".tf_selectperson-wrap").length||jQuery(".tf_acrselection-wrap").slideUp("fast")}),t(".acr-inc").on("click",function(e){var n=t(this).parent().find("input");n.val(parseInt(n.val())+1).change()}),t(".acr-dec").on("click",function(e){var n=t(this).parent().find("input"),a=n.attr("min");n.val()>a&&n.val(n.val()-1).change()}),t(document).on("change","#adults",function(){var e=t(this).val();t(".adults-text").text(e+" "+tf_params.adult)}),t(document).on("change","#children",function(){var e=t(this).val();t(".child-text").text(e+" "+tf_params.children)}),t(document).on("change","#infant",function(){var e=t(this).val();t(".infant-text").text(e+" "+tf_params.infant)}),t(document).on("change","#room",function(){var e=t(this).val();t(".room-text").text(e+" "+tf_params.room)}),t(document).on("click","#reply-title",function(){var e=t(this);t("#commentform").slideToggle("fast","swing",function(){e.parent().toggleClass("active")})}),t(document).on("click","#tf-ask-question-trigger",function(e){e.preventDefault(),t("#tf-ask-question").fadeIn().find(".response").html("")}),t(document).on("click","span.close-aq",function(){t("#tf-ask-question").fadeOut()}),t(document).on("submit","form#ask-question",function(e){e.preventDefault();var n=t(this),a=new FormData(this);a.append("action","tf_ask_question"),t.ajax({type:"post",url:tf_params.ajax_url,data:a,processData:!1,contentType:!1,beforeSend:function(t){n.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),n.find(".response").html(tf_params.sending_ques)},complete:function(t){n.unblock()},success:function(t){n.unblock();var e=JSON.parse(t);"sent"==e.status?(n.find(".response").html(e.msg),n.find('[type="reset"]').trigger("click")):n.find(".response").html(e.msg)},error:function(t){console.log(t)}})}),t(document).on("click",".change-view",function(e){e.preventDefault(),t(".change-view").removeClass("active"),t(this).addClass("active"),"grid-view"==t(this).data("id")?t(".archive_ajax_result").addClass("tours-grid"):t(".archive_ajax_result").removeClass("tours-grid")});var g,v=!1;t(document).on("click",".tf_posts_navigation a.next.page-numbers",function(e){e.preventDefault();var n,a=e.target.href?e.target.href:t(this).context.href;n=a,g&&4!=g.readyState&&g.abort(),g=t.ajax({url:n,contentType:!1,processData:!1,asynch:!0,beforeSend:function(){t(document).find(".tf_posts_navigation").addClass("loading"),v=!0},success:function(e){t(".archive_ajax_result").append(t(".archive_ajax_result",e).html()),t(".tf_posts_navigation").html(t(".tf_posts_navigation",e).html()),v=!1,t(document).find(".tf_posts_navigation").removeClass("loading")}}),window.history.pushState({url:""+a},"",a)}),t(window).on("scroll",function(e){t(".tf_posts_navigation a.next.page-numbers").each(function(e,n){var a=t(this),o=t(window).height(),s=n.getBoundingClientRect(),i=s.top,r=(s.bottom,parseInt(i-o/2));!1===v&&o>=r&&a.trigger("click")})}),t(".tf-travel-text h4").click(function(){t(this).siblings(".tf-travel-contetn").slideToggle(),t(this).parents(".tf-travel-itinerary-item").siblings().find(".tf-travel-contetn").slideUp()}),t(".tf-faq-title").click(function(){t(this).siblings(".tf-faq-desc").slideToggle(),t(this).parents(".tf-faq-item").siblings().find(".tf-faq-desc").slideUp()}),t(".tf-header-menu-triger").click(function(){t(".tf-header-menu-wrap").slideToggle()})})}(jQuery,window),jQuery("#tf-hotel-booking-form").css("display","block");