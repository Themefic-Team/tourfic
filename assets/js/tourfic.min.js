function tfOpenForm(e,t){var o,n,a;for(n=document.getElementsByClassName("tf-tabcontent"),o=0;o<n.length;o++)n[o].style.display="none";for(a=document.getElementsByClassName("tf-tablinks"),o=0;o<a.length;o++)a[o].className=a[o].className.replace(" active","");document.getElementById(t).style.display="block",document.getElementById(t).style.transition="all 0.2s",e.currentTarget.className+=" active"}function tf_load_rating(){jQuery("#commentform").show()}!function(e,t){e(document).ready((function(){const o=new Notyf({ripple:!0,duration:3e3,dismissable:!0,position:{x:"right",y:"bottom"}});e(document).on("click","#tf-single-hotel-avail .tf-submit",(function(t){if(t.preventDefault(),""!=e.trim(e("input[name=check-in-out-date]").val())){var o={action:"tf_room_availability",tf_room_avail_nonce:e("input[name=tf_room_avail_nonce]").val(),post_id:e("input[name=post_id]").val(),adult:e("select[name=adults] option").filter(":selected").val(),child:e("select[name=children] option").filter(":selected").val(),check_in_out:e("input[name=check-in-out-date]").val()};jQuery.ajax({url:tf_params.ajax_url,type:"post",data:o,success:function(t){e("html, body").animate({scrollTop:e("#rooms").offset().top},500),e("#rooms").html(t)},error:function(e,t){var o="";if(0===e.status)o="Not connect.\n Verify Network.";else if(404==e.status)o="Requested page not found. [404]";else if(500==e.status)o="Internal Server Error [500].";else if("parsererror"===t)o="Requested JSON parse failed.";else if("timeout"===t)o="Time out error.";else if("abort"===t)o="Ajax request aborted.";else o="Uncaught Error.\n"+e.responseText;alert(o)}})}else 0===e("#tf-required").length&&e(".tf_booking-dates .tf_label-row").append('<span id="tf-required" clss="required"><b>'+tf_params.field_required+"</b></span>")})),e(document).on("click",".hotel-room-availability",(function(t){t.preventDefault(),e("html, body").animate({scrollTop:e("#tf-single-hotel-avail").offset().top},500)})),e(document).on("click",".hotel-room-book",(function(t){t.preventDefault();var o=e(this),n=e("input[name=tf_room_booking_nonce]").val(),a=e("input[name=post_id]").val();if(e(this).closest(".room-submit-wrap").find("input[name=room_id]").val())var s=e(this).closest(".room-submit-wrap").find("input[name=room_id]").val();else s=e("#hotel_roomid").val();if(e(this).closest(".room-submit-wrap").find("input[name=unique_id]").val())var i=e(this).closest(".room-submit-wrap").find("input[name=unique_id]").val();else i=e("#hotel_room_uniqueid").val();var r=e("input[name=place]").val(),l=e("input[name=adult]").val(),c=e("input[name=child]").val(),d=e("input[name=check_in_date]").val(),u=e("input[name=check_out_date]").val();if(e(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val())var f=e(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val(),p=e(this).closest(".room-submit-wrap").find("input[name=make_deposit]").is(":checked");else f=e("#hotel_room_number").val(),p=e("#hotel_room_depo").val();var m={action:"tf_hotel_booking",tf_room_booking_nonce:n,post_id:a,room_id:s,unique_id:i,location:r,adult:l,child:c,check_in_date:d,check_out_date:u,room:f,deposit:p,airport_service:e(".fancybox-slide #airport-service").val()};e.ajax({type:"post",url:tf_params.ajax_url,data:m,beforeSend:function(t){o.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),e(".tf_notice_wrapper").html("").hide()},complete:function(e){o.unblock()},success:function(t){o.unblock();var n=JSON.parse(t);if("error"==n.status){var a="";return n.errors&&n.errors.forEach((function(e){a+='<div class="woocommerce-error">'+e+"</div>"})),e(".tf_notice_wrapper").html(a).show(),e("html, body").animate({scrollTop:0},300),!1}n.redirect_to?window.location.replace(n.redirect_to):jQuery(document.body).trigger("added_to_cart")},error:function(e){console.log(e)}})})),e('[data-fancybox="hotel-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1});var n,a=e(".swiper-button-prev"),s=e(".swiper-button-next");e(".single-slider-wrapper .tf_slider-for").slick({slide:".slick-slide-item",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!1,centerMode:!1,variableWidth:!1}),a.on("click",(function(){e(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickPrev")})),s.on("click",(function(){e(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickNext")})),e(".reserve-button a").click((function(){e("html, body").animate({scrollTop:e("#rooms").offset().top-32},1e3)})),e(document).on("submit","form.tf_tours_booking",(function(t){t.preventDefault();var o=e(this),n=new FormData(this);n.append("action","tf_tours_booking");var a=0;jQuery(".tour-extra-single input:checkbox:checked").each((function(){a+=isNaN(parseInt(jQuery(this).val()))?0:parseInt(jQuery(this).val())})),n.append("tour_extra_total",a);var s=e(".tour-extra-single input:checkbox:checked").map((function(){return e(this).data("title")})).get();n.append("tour_extra_title",s),e.ajax({type:"post",url:tf_params.ajax_url,data:n,processData:!1,contentType:!1,beforeSend:function(t){o.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),e(".tf_notice_wrapper").html("").hide()},complete:function(e){o.unblock()},success:function(t){o.unblock();var n=JSON.parse(t);if("error"==n.status){var a="";return n.errors&&n.errors.forEach((function(e){a+='<div class="woocommerce-error">'+e+"</div>"})),e(".tf_notice_wrapper").html(a).show(),e("html, body").animate({scrollTop:0},300),!1}n.redirect_to?window.location.replace(n.redirect_to):jQuery(document.body).trigger("added_to_cart"),console.log(n)},error:function(e){console.log(e)}})})),e('[data-fancybox="tour-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1}),e(".tf-single-tour-pricing .tf-price-tab li").click((function(){var t=e(this).attr("id");e(this).addClass("active").siblings().removeClass("active"),e(".tf-price").addClass("tf-d-n"),e("."+t+"-price").removeClass("tf-d-n")}));const i=()=>{var t=e("#tf-place").val(),a=e("#adults").val(),s=e("#room").val(),i=e("#children").val(),r=e("#check-in-out-date").val(),l=r.split(" to "),c=l[0],d=l[1],u=e(".tf-post-type").val(),f=[];e("[name*=tf_filters]").each((function(){e(this).is(":checked")&&f.push(e(this).val())}));f=f.join();var p=[];e("[name*=tf_features]").each((function(){e(this).is(":checked")&&p.push(e(this).val())}));p=p.join();var m=new FormData;m.append("action","tf_trigger_filter"),m.append("type",u),m.append("dest",t),m.append("adults",a),m.append("room",s),m.append("children",i),m.append("checkin",c),m.append("checkout",d),m.append("filters",f),m.append("features",p),m.append("checked",r),n&&4!=n.readyState&&n.abort(),n=e.ajax({type:"post",url:tf_params.ajax_url,data:m,processData:!1,contentType:!1,beforeSend:function(t){e(".archive_ajax_result").block({message:null,overlayCSS:{background:"#fff",opacity:.5}})},complete:function(t){e(".archive_ajax_result").unblock()},success:function(t){e(".archive_ajax_result").unblock(),e(".archive_ajax_result").html(t),o.success(tf_params.ajax_result_success)},error:function(e){console.log(e)}})};e(document).on("submit","#tf-widget-booking-search",(function(e){e.preventDefault(),i()})),e(document).on("change","[name*=tf_filters],[name*=tf_features]",(function(){i()})),e.fn.inViewport=function(o){return this.each((function(n,a){function s(){var t=e(this).height(),n=a.getBoundingClientRect(),s=n.top,i=n.bottom;return o.call(a,Math.max(0,s>0?t-s:i<t?i:t))}s(),e(t).on("resize scroll",s)}))},e(window).load((function(){jQuery("[data-width]").each((function(){var e=jQuery(this),t=e.attr("data-width");e.inViewport((function(o){o>0?e.css("width",+t+"%"):e.css("width","0%")}))}))})),e('.share-toggle[data-toggle="true"]').click((function(t){t.preventDefault();var o=e(this).attr("href");e(o).slideToggle("fast")})),e("button#share_link_button").click((function(){e(this).addClass("copied"),setTimeout((function(){e("button#share_link_button").removeClass("copied")}),3e3),e(this).parent().find("#share_link_input").select(),document.execCommand("copy")})),e(".faq-head").click((function(t){e(this).parent().toggleClass("active").find(".faq-content").slideToggle("fast")})),e(".itinerary-head").on("click",(function(t){e(this).parent().toggleClass("active").find(".itinerary-content").slideToggle("fast")})),e(".tf-suggestion-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".tf-review-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:2e3,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]});const r="wishlist_item",l=()=>{let e=localStorage.getItem(r);return null===e?[]:JSON.parse(e)},c=()=>{let t=e(".tf-wishlist-holder");e.each(t,(function(t,o){let n=e(o).data("type");n=n?n.split(","):void 0;let a=l();void 0!==n&&(a=a.filter((e=>n.includes(e.type))));let s=a.map((e=>e.post)),i={nonce:e(o).data("nonce"),action:"tf_generate_table",ids:s};e.post(tf_params.ajax_url,i,(function(t){t.success&&e(o).html(t.data)}))}))},d=e=>{e.addClass("remove-wishlist"),e.addClass("fas"),e.addClass("tf-text-red"),e.removeClass("far"),e.removeClass("add-wishlist")},u=e=>{e.addClass("add-wishlist"),e.addClass("far"),e.removeClass("fas"),e.removeClass("tf-text-red"),e.removeClass("remove-wishlist")};function f(e,t){var o;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),o>=e.length&&(o=0),o<0&&(o=e.length-1),e[o].classList.add("autocomplete-active")}function a(t){for(var o=document.getElementsByClassName("autocomplete-items"),n=0;n<o.length;n++)t!=o[n]&&t!=e&&o[n].parentNode.removeChild(o[n])}e.addEventListener("input",(function(n){var s,i,r=this.value;if(a(),!r)return!1;o=-1,(s=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),s.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(s);var l=[];for(const[o,n]of Object.entries(t))n.substr(0,r.length).toUpperCase()==r.toUpperCase()?(l.push("found"),(i=document.createElement("DIV")).innerHTML="<strong>"+n.substr(0,r.length)+"</strong>",i.innerHTML+=n.substr(r.length),i.innerHTML+=`<input type='hidden' value="${n}" data-slug='${o}'> `,i.addEventListener("click",(function(t){let o=this.getElementsByTagName("input")[0];e.value=o.value,e.closest("input").nextElementSibling.value=o.dataset.slug,a()})),s.appendChild(i)):l.push("notfound");-1==l.indexOf("found")&&((i=document.createElement("DIV")).innerHTML+="Not Found",i.innerHTML+="<input type='hidden' value=''>",i.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,a()})),s.appendChild(i))})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(o++,n(t)):38==e.keyCode?(o--,n(t)):13==e.keyCode&&(e.preventDefault(),o>-1&&t&&t[o].click())})),document.addEventListener("click",(function(e){a(e.target)}))}e(document).on("click",".add-wishlist",(function(){let t=e(".add-wishlist"),n={type:t.data("type"),post:t.data("id")},a=t.data("page-title"),s=t.data("page-url"),i=void 0!==s?'<a class="wish-button" href="'+s+'">'+a+"</a>":"";return e("body").hasClass("logged-in")?(n.action="tf_add_to_wishlists",n.nonce=t.data("nonce"),e.ajax({type:"post",url:tf_params.ajax_url,data:n,beforeSend:function(e){o.success(tf_params.wishlist_add)},success:function(e){e.success&&(d(t),o.success({message:e.data+i,duration:4e3}))}})):!0===(e=>{let t=l();return 0===t.filter((t=>t.post==e.post)).length&&(t.push(e),localStorage.setItem(r,JSON.stringify(t)),!0)})(n)?(o.success(tf_params.wishlist_add),d(t),o.success({message:tf_params.wishlist_added+i,duration:4e3})):o.error(tf_params.wishlist_add_error),!1})),e("body").find(".tf-wishlist-holder").length&&c(),e(document).on("click",".remove-wishlist",(function(){let t=e(".remove-wishlist"),n=t.data("id");if(e("body").hasClass("logged-in")){let a=t.closest("table"),s={id:n,action:"tf_remove_wishlist",type:a.data("type"),nonce:t.data("nonce")};e.get(tf_params.ajax_url,s,(function(e){e.success&&("1"!=tf_params.single&&a.closest(".tf-wishlists").html(e.data),u(t),o.success(tf_params.wishlist_removed))}))}else 1==(e=>{let t=l(),o=t.findIndex((t=>t.post==e));return console.log(o,e,t),o>=0&&(t.splice(o,1),console.log(t),localStorage.setItem(r,JSON.stringify(t)),"1"!=tf_params.single&&c(),!0)})(n)?(u(t),o.success(tf_params.wishlist_removed)):o.error(tf_params.wishlist_remove_error)})),(()=>{if(!e(document).hasClass("logged-in")&&e(document).find(".add-wishlist")){let t=e(".add-wishlist"),o=t.data("id");l().findIndex((e=>e.post==o))>=0?d(t):u(t)}})();var p=document.getElementById("tf-location"),m=tf_params.locations;p&&f(p,m);var h=document.getElementById("tf-destination"),v=tf_params.tour_destinations;h&&f(h,v),e(window).scroll((function(){var t=e(".tf-tour-booking-wrap");e(window).scrollTop()>=800?t.addClass("tf-tours-fixed"):t.removeClass("tf-tours-fixed")})),e(document).on("click",".tf_selectperson-wrap .tf_input-inner,.tf_person-selection-wrap .tf_person-selection-inner",(function(){e(".tf_acrselection-wrap").slideToggle("fast")})),jQuery(document).on("click",(function(e){jQuery(e.target).closest(".tf_selectperson-wrap").length||jQuery(".tf_acrselection-wrap").slideUp("fast")})),e(".acr-inc").on("click",(function(t){var o=e(this).parent().find("input");o.val(parseInt(o.val())+1).change()})),e(".acr-dec").on("click",(function(t){var o=e(this).parent().find("input"),n=o.attr("min");o.val()>n&&o.val(o.val()-1).change()})),e(document).on("change","#adults",(function(){var t=e(this).val();e(".adults-text").text(t+" "+tf_params.adult)})),e(document).on("change","#children",(function(){var t=e(this).val();e(".child-text").text(t+" "+tf_params.children)})),e(document).on("change","#infant",(function(){var t=e(this).val();e(".infant-text").text(t+" "+tf_params.infant)})),e(document).on("change","#room",(function(){var t=e(this).val();e(".room-text").text(t+" "+tf_params.room)})),e(document).on("click","#reply-title",(function(){var t=e(this);e("#commentform").slideToggle("fast","swing",(function(){t.parent().toggleClass("active")}))})),e(document).on("click","#tf-ask-question-trigger",(function(t){t.preventDefault(),e("#tf-ask-question").fadeIn().find(".response").html("")})),e(document).on("click","span.close-aq",(function(){e("#tf-ask-question").fadeOut()})),e(document).on("submit","form#ask-question",(function(t){t.preventDefault();var o=e(this),n=new FormData(this);n.append("action","tf_ask_question"),e.ajax({type:"post",url:tf_params.ajax_url,data:n,processData:!1,contentType:!1,beforeSend:function(e){o.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),o.find(".response").html(tf_params.sending_ques)},complete:function(e){o.unblock()},success:function(e){o.unblock();var t=JSON.parse(e);"sent"==t.status?(o.find(".response").html(t.msg),o.find('[type="reset"]').trigger("click")):o.find(".response").html(t.msg)},error:function(e){console.log(e)}})})),e(document).on("click",".change-view",(function(t){t.preventDefault(),e(".change-view").removeClass("active"),e(this).addClass("active"),"grid-view"==e(this).data("id")?e(".archive_ajax_result").addClass("tours-grid"):e(".archive_ajax_result").removeClass("tours-grid")}));var _,g=!1;e(document).on("click",".tf_posts_navigation a.next.page-numbers",(function(t){t.preventDefault();var o,n=t.target.href?t.target.href:e(this).context.href;o=n,_&&4!=_.readyState&&_.abort(),_=e.ajax({url:o,contentType:!1,processData:!1,asynch:!0,beforeSend:function(){e(document).find(".tf_posts_navigation").addClass("loading"),g=!0},success:function(t){e(".archive_ajax_result").append(e(".archive_ajax_result",t).html()),e(".tf_posts_navigation").html(e(".tf_posts_navigation",t).html()),g=!1,e(document).find(".tf_posts_navigation").removeClass("loading")}}),window.history.pushState({url:""+n},"",n)})),e(window).on("scroll",(function(t){e(".tf_posts_navigation a.next.page-numbers").each((function(t,o){var n=e(this),a=e(window).height(),s=o.getBoundingClientRect(),i=s.top,r=(s.bottom,parseInt(i-a/2));!1===g&&a>=r&&n.trigger("click")}))})),e(".tf-travel-text h4").click((function(){e(this).siblings(".tf-travel-contetn").slideToggle(),e(this).parents(".tf-travel-itinerary-item").siblings().find(".tf-travel-contetn").slideUp()})),e(".tf-faq-title").click((function(){e(this).siblings(".tf-faq-desc").slideToggle(),e(this).parents(".tf-faq-item").siblings().find(".tf-faq-desc").slideUp()})),e(".tf-header-menu-triger").click((function(){e(".tf-header-menu-wrap").slideToggle()}))}))}(jQuery,window),jQuery("#tf-hotel-booking-form").css("display","block");