function tfOpenForm(t,e){var i,n,a;for(i=0,n=document.getElementsByClassName("tf-tabcontent");i<n.length;i++)n[i].style.display="none";for(i=0,a=document.getElementsByClassName("tf-tablinks");i<a.length;i++)a[i].className=a[i].className.replace(" active","");document.getElementById(e).style.display="block",document.getElementById(e).style.transition="all 0.2s",t.target.className+=" active"}function tf_load_rating(){jQuery("#commentform").show()}!function(t,e){t(document).ready(function(){let i=new Notyf({ripple:!0,duration:3e3,dismissable:!0,position:{x:"right",y:"bottom"}});t(document).on("click","#tf-single-hotel-avail .tf-submit",function(e){if(e.preventDefault(),""==t.trim(t("input[name=check-in-out-date]").val())){0===t("#tf-required").length&&t(".tf_booking-dates .tf_label-row").append('<span id="tf-required" clss="required"><b>'+tf_params.field_required+"</b></span>");return}var i=t("input[name=tf_room_avail_nonce]").val(),n=t("input[name=post_id]").val(),a=t("select[name=adults] option").filter(":selected").val(),o=t("select[name=children] option").filter(":selected").val(),s=t("input[name=children_ages]").val(),l=t("input[name=check-in-out-date]").val();jQuery.ajax({url:tf_params.ajax_url,type:"post",data:{action:"tf_room_availability",tf_room_avail_nonce:i,post_id:n,adult:a,child:o,children_ages:s,check_in_out:l},success:function(e){t("html, body").animate({scrollTop:t("#rooms").offset().top},500),t("#rooms").html(e)},error:function(t,e){if(0===t.status);else if(404==t.status);else if(500==t.status);else if("parsererror"===e);else if("timeout"===e);else if("abort"===e);else t.responseText;alert("Ajax request aborted.")}})}),t(document).on("click",".hotel-room-availability",function(e){e.preventDefault(),t("html, body").animate({scrollTop:t("#tf-single-hotel-avail").offset().top},500)}),t(document).on("click",".hotel-room-book",function(e){e.preventDefault();var n=t(this),a=t("input[name=tf_room_booking_nonce]").val(),o=t("input[name=post_id]").val();if(t(this).closest(".room-submit-wrap").find("input[name=room_id]").val())var s=t(this).closest(".room-submit-wrap").find("input[name=room_id]").val();else var s=t("#hotel_roomid").val();if(t(this).closest(".room-submit-wrap").find("input[name=unique_id]").val())var l=t(this).closest(".room-submit-wrap").find("input[name=unique_id]").val();else var l=t("#hotel_room_uniqueid").val();var r=t("input[name=place]").val(),c=t("input[name=adult]").val(),d=t("input[name=child]").val(),f=t("input[name=children_ages]").val(),u=t("input[name=check_in_date]").val(),p=t("input[name=check_out_date]").val();if(t(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val())var h=t(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val(),m=t(this).closest(".room-submit-wrap").find("input[name=make_deposit]").is(":checked");else var h=t("#hotel_room_number").val(),m=t("#hotel_room_depo").val();var v=t(".fancybox-slide #airport-service").val();t.ajax({type:"post",url:tf_params.ajax_url,data:{action:"tf_hotel_booking",tf_room_booking_nonce:a,post_id:o,room_id:s,unique_id:l,location:r,adult:c,child:d,children_ages:f,check_in_date:u,check_out_date:p,room:h,deposit:m,airport_service:v},beforeSend:function(e){n.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),t(".tf_notice_wrapper").html("").hide()},complete:function(t){n.unblock()},success:function(t){n.unblock();var e=JSON.parse(t);if("error"==e.status)return e.errors&&e.errors.forEach(function(t){i.error(t)}),!1;e.redirect_to?window.location.replace(e.redirect_to):jQuery(document.body).trigger("added_to_cart")},error:function(t){console.log(t)}})}),t('[data-fancybox="hotel-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1});var n,a,o=t(".swiper-button-prev"),s=t(".swiper-button-next");t(".single-slider-wrapper .tf_slider-for").slick({slide:".slick-slide-item",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!1,centerMode:!1,variableWidth:!1}),o.on("click",function(){t(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickPrev")}),s.on("click",function(){t(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickNext")}),t(".reserve-button a").click(function(){t("html, body").animate({scrollTop:t("#rooms").offset().top-32},1e3)}),t(".tf-top-review a").click(function(){t("html, body").animate({scrollTop:t("#tf-review").offset().top-32},1e3)}),t(".tf-map-link a").click(function(){t("html, body").animate({scrollTop:t("#tour-map").offset().top-32},1e3)}),t(document).on("submit","form.tf_tours_booking",function(e){e.preventDefault();var n=t(this),a=new FormData(this);a.append("action","tf_tours_booking");var o=0;jQuery(".tour-extra-single input:checkbox:checked").each(function(){o+=isNaN(parseInt(jQuery(this).val()))?0:parseInt(jQuery(this).val())}),a.append("tour_extra_total",o);var s=t(".tour-extra-single input:checkbox:checked").map(function(){return t(this).data("title")}).get();a.append("tour_extra_title",s),t.ajax({type:"post",url:tf_params.ajax_url,data:a,processData:!1,contentType:!1,beforeSend:function(e){n.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),t(".tf-notice-wrapper").html("").hide()},complete:function(t){n.unblock()},success:function(e){n.unblock();var a=JSON.parse(e);if("error"==a.status)return t.fancybox.close(),a.errors&&a.errors.forEach(function(t){i.error(t)}),!1;a.redirect_to?window.location.replace(a.redirect_to):jQuery(document.body).trigger("added_to_cart"),console.log(a)},error:function(t){console.log(t)}})}),t('[data-fancybox="tour-gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1}),t(".tf-single-tour-pricing .tf-price-tab li").click(function(){var e=t(this).attr("id");t(this).addClass("active").siblings().removeClass("active"),t(".tf-price").addClass("tf-d-n"),t("."+e+"-price").removeClass("tf-d-n")});let l=()=>{var e=t("#tf-place").val(),a=t("#adults").val(),o=t("#room").val(),s=t("#children").val(),l=t("#check-in-out-date").val(),r=t("#startprice").val(),c=t("#endprice").val(),d=l.split(" to "),f=d[0],u=d[1],p=t(".tf-post-type").val(),h=[];t("[name*=tf_filters]").each(function(){t(this).is(":checked")&&h.push(t(this).val())});var h=h.join(),m=[];t("[name*=tf_features]").each(function(){t(this).is(":checked")&&m.push(t(this).val())});var m=m.join(),v=new FormData;v.append("action","tf_trigger_filter"),v.append("type",p),v.append("dest",e),v.append("adults",a),v.append("room",o),v.append("children",s),v.append("checkin",f),v.append("checkout",u),v.append("filters",h),v.append("features",m),v.append("checked",l),r&&v.append("startprice",r),c&&v.append("endprice",c),n&&4!=n.readyState&&n.abort(),n=t.ajax({type:"post",url:tf_params.ajax_url,data:v,processData:!1,contentType:!1,beforeSend:function(e){t(".archive_ajax_result").block({message:null,overlayCSS:{background:"#fff",opacity:.5}})},complete:function(e){t(".archive_ajax_result").unblock()},success:function(e){t(".archive_ajax_result").unblock(),t(".archive_ajax_result").html(e),i.success(tf_params.ajax_result_success)},error:function(t){console.log(t)}})};function r(e){t(window).on("resize load",function(){!function e(i){t(i).each(function(){t(this).width("100%").css({marginLeft:"-0px"});var e=t(window).width(),i="-"+t(this).offset().left+"px";t(this).width(e).css({marginLeft:i}),console.log("Width:",e,"Margin Left:",i)})}(e)})}t(document).on("submit","#tf-widget-booking-search",function(t){t.preventDefault(),l()}),t(document).on("change","[name*=tf_filters],[name*=tf_features]",function(){l()}),t.fn.inViewport=function(i){return this.each(function(n,a){function o(){var e=t(this).height(),n=a.getBoundingClientRect(),o=n.top,s=n.bottom;return i.call(a,Math.max(0,o>0?e-o:s<e?s:e))}o(),t(e).on("resize scroll",o)})},t(window).load(function(){jQuery("[data-width]").each(function(){var t=jQuery(this),e=t.attr("data-width");t.inViewport(function(i){i>0?t.css("width",+e+"%"):t.css("width","0%")})})}),t('.share-toggle[data-toggle="true"]').click(function(e){e.preventDefault();var i=t(this).attr("href");t(i).slideToggle("fast")}),t("button#share_link_button").click(function(){t(this).addClass("copied"),setTimeout(function(){t("button#share_link_button").removeClass("copied")},3e3),t(this).parent().find("#share_link_input").select(),document.execCommand("copy")}),t(".tf-slider-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(".tf-review-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:2e3,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]});let c="wishlist_item",d=()=>{let t=localStorage.getItem(c);return null===t?[]:JSON.parse(t)},f=t=>{let e=d();return 0===e.filter(e=>e.post==t.post).length&&(e.push(t),localStorage.setItem(c,JSON.stringify(e)),!0)},u=()=>{let e=t(".tf-wishlist-holder");t.each(e,function(e,i){let n=t(i).data("type");n=n?n.split(","):void 0;let a=d();void 0!==n&&(a=a.filter(t=>n.includes(t.type)));let o=a.map(t=>t.post),s={nonce:t(i).data("nonce"),action:"tf_generate_table",ids:o};t.post(tf_params.ajax_url,s,function(e){e.success&&t(i).html(e.data)})})},p=t=>{let e=d(),i=e.findIndex(e=>e.post==t);return console.log(i,t,e),i>=0&&(e.splice(i,1),console.log(e),localStorage.setItem(c,JSON.stringify(e)),"1"!=tf_params.single&&u(),!0)},h=t=>{t.addClass("remove-wishlist"),t.addClass("fas"),t.addClass("tf-text-red"),t.removeClass("far"),t.removeClass("add-wishlist")},m=t=>{t.addClass("add-wishlist"),t.addClass("far"),t.removeClass("fas"),t.removeClass("tf-text-red"),t.removeClass("remove-wishlist")};function v(t,e){var i;function n(t){if(!t)return!1;(function t(e){for(var i=0;i<e.length;i++)e[i].classList.remove("autocomplete-active")})(t),i>=t.length&&(i=0),i<0&&(i=t.length-1),t[i].classList.add("autocomplete-active")}function a(e){for(var i=document.getElementsByClassName("autocomplete-items"),n=0;n<i.length;n++)e!=i[n]&&e!=t&&i[n].parentNode.removeChild(i[n])}t.addEventListener("input",function(n){var o,s,l=this.value;if(a(),!l)return!1;i=-1,(o=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),o.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(o);var r=[];for(let[c,d]of Object.entries(e))d.substr(0,l.length).toUpperCase()==l.toUpperCase()?(r.push("found"),(s=document.createElement("DIV")).innerHTML="<strong>"+d.substr(0,l.length)+"</strong>",s.innerHTML+=d.substr(l.length),s.innerHTML+=`<input type='hidden' value="${d}" data-slug='${c}'> `,s.addEventListener("click",function(e){let i=this.getElementsByTagName("input")[0];t.value=i.value,t.closest("input").nextElementSibling.value=i.value,a()}),o.appendChild(s)):r.push("notfound");-1==r.indexOf("found")&&(s=document.createElement("DIV"),s.innerHTML+="Not Found",s.innerHTML+="<input type='hidden' value=''>",s.addEventListener("click",function(e){t.value=this.getElementsByTagName("input")[0].value,a()}),o.appendChild(s))}),t.addEventListener("keydown",function(t){var e=document.getElementById(this.id+"autocomplete-list");e&&(e=e.getElementsByTagName("div")),40==t.keyCode?(i++,n(e)):38==t.keyCode?(i--,n(e)):13==t.keyCode&&(t.preventDefault(),i>-1&&e&&e[i].click())}),document.addEventListener("click",function(t){a(t.target)})}t(document).on("click",".add-wishlist",function(){let e=t(".add-wishlist"),n={type:e.data("type"),post:e.data("id")},a=e.data("page-title"),o=e.data("page-url"),s=void 0!==o?'<a class="wish-button" href="'+o+'">'+a+"</a>":"";return t("body").hasClass("logged-in")?(n.action="tf_add_to_wishlists",n.nonce=e.data("nonce"),t.ajax({type:"post",url:tf_params.ajax_url,data:n,beforeSend:function(t){i.success(tf_params.wishlist_add)},success:function(t){t.success&&(h(e),i.success({message:t.data+s,duration:4e3}))}})):!0===f(n)?(i.success(tf_params.wishlist_add),h(e),i.success({message:tf_params.wishlist_added+s,duration:4e3})):i.error(tf_params.wishlist_add_error),!1}),t("body").find(".tf-wishlist-holder").length&&u(),t(document).on("click",".remove-wishlist",function(){let e=t(".remove-wishlist"),n=e.data("id");if(t("body").hasClass("logged-in")){let a=e.closest("table"),o=a.data("type"),s={id:n,action:"tf_remove_wishlist",type:o,nonce:e.data("nonce")};t.get(tf_params.ajax_url,s,function(t){t.success&&("1"!=tf_params.single&&a.closest(".tf-wishlists").html(t.data),m(e),i.success(tf_params.wishlist_removed))})}else!0==p(n)?(m(e),i.success(tf_params.wishlist_removed)):i.error(tf_params.wishlist_remove_error)}),(()=>{if(!t(document).hasClass("logged-in")&&t(document).find(".add-wishlist")){let e=t(".add-wishlist"),i=e.data("id");d().findIndex(t=>t.post==i)>=0?h(e):m(e)}})();var g=document.getElementById("tf-location"),b=tf_params.locations;g&&v(g,b);var k=document.getElementById("tf-destination"),w=tf_params.tour_destinations;k&&v(k,w),t(window).scroll(function(){var e=t(".tf-tour-booking-wrap");t(window).scrollTop()>=800?e.addClass("tf-tours-fixed"):e.removeClass("tf-tours-fixed")}),t(document).on("click",".tf_selectperson-wrap .tf_input-inner,.tf_person-selection-wrap .tf_person-selection-inner",function(){t(".tf_acrselection-wrap").slideToggle("fast")}),jQuery(document).on("click",function(t){jQuery(t.target).closest(".tf_selectperson-wrap").length||jQuery(".tf_acrselection-wrap").slideUp("fast")}),t(".acr-inc").on("click",function(e){var i=t(this).parent().find("input");i.val(parseInt(i.val())+1).change()}),t(".acr-dec").on("click",function(e){var i=t(this).parent().find("input"),n=i.attr("min");i.val()>n&&i.val(i.val()-1).change()}),t(document).on("change","#adults",function(){let e=t(this),i=e.val();e.closest(".tf_selectperson-wrap").find(".adults-text").text(i+" "+tf_params.adult)}),t(document).on("change","#children",function(){let e=t(this),i=e.val();e.closest(".tf_selectperson-wrap").find(".child-text").text(i+" "+tf_params.children)}),t(document).on("change","#infant",function(){let e=t(this),i=e.val();e.closest(".tf_selectperson-wrap").find(".infant-text").text(i+" "+tf_params.infant)}),t(document).on("change","#room",function(){let e=t(this),i=e.val();e.closest(".tf_selectperson-wrap").find(".room-text").text(i+" "+tf_params.room)}),t(document).on("click","#reply-title",function(){var e=t(this);t("#commentform").slideToggle("fast","swing",function(){e.parent().toggleClass("active")})}),t(document).on("click","#tf-ask-question-trigger",function(e){e.preventDefault(),t("#tf-ask-question").fadeIn().find(".response").html("")}),t(document).on("click","span.close-aq",function(){t("#tf-ask-question").fadeOut()}),t(document).on("submit","form#ask-question",function(e){e.preventDefault();var i=t(this),n=new FormData(this);n.append("action","tf_ask_question"),t.ajax({type:"post",url:tf_params.ajax_url,data:n,processData:!1,contentType:!1,beforeSend:function(t){i.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),i.find(".response").html(tf_params.sending_ques)},complete:function(t){i.unblock()},success:function(t){i.unblock();var e=JSON.parse(t);"sent"==e.status?(i.find(".response").html(e.msg),i.find('[type="reset"]').trigger("click")):i.find(".response").html(e.msg)},error:function(t){console.log(t)}})}),t(document).on("click",".change-view",function(e){e.preventDefault(),t(".change-view").removeClass("active"),t(this).addClass("active"),"grid-view"==t(this).data("id")?t(".archive_ajax_result").addClass("tours-grid"):t(".archive_ajax_result").removeClass("tours-grid")});var $=!1,y=function(e){a&&4!=a.readyState&&a.abort(),a=t.ajax({url:e,contentType:!1,processData:!1,asynch:!0,beforeSend:function(){t(document).find(".tf_posts_navigation").addClass("loading"),$=!0},success:function(e){t(".archive_ajax_result").append(t(".archive_ajax_result",e).html()),t(".tf_posts_navigation").html(t(".tf_posts_navigation",e).html()),$=!1,t(document).find(".tf_posts_navigation").removeClass("loading")}})};t(document).on("click",".tf_posts_navigation a.next.page-numbers",function(e){e.preventDefault();var i=e.target.href?e.target.href:t(this).context.href;y(i),window.history.pushState({url:""+i},"",i)}),t(window).on("scroll",function(e){t(".tf_posts_navigation a.next.page-numbers").each(function(e,i){var n=t(this),a=t(window).height(),o=i.getBoundingClientRect(),s=o.top;o.bottom;var l=parseInt(s-a/2);!1===$&&a>=l&&n.trigger("click")})}),t(".tf_selectdate-wrap.tf_more_info_selections .tf_input-inner").click(function(){t(".tf-more-info").toggleClass("show")});let x={range:{min:parseInt(tf_params.tf_hotel_min_price),max:parseInt(tf_params.tf_hotel_max_price),step:1},initialSelectedValues:{from:parseInt(tf_params.tf_hotel_min_price),to:parseInt(tf_params.tf_hotel_max_price)/2},grid:!1,theme:"dark"};t(".tf-hotel-filter-range").alRangeSlider(x);let _={range:{min:parseInt(tf_params.tf_tour_min_price),max:parseInt(tf_params.tf_tour_max_price),step:1},initialSelectedValues:{from:parseInt(tf_params.tf_tour_min_price),to:parseInt(tf_params.tf_tour_max_price)/2},grid:!1,theme:"dark"};t(".tf-tour-filter-range").alRangeSlider(_);var C=tf_params.tf_hotellocationlists;t("#tf-destination-adv").autocomplete({source:C,minLength:0,open:function(){t(this).autocomplete("widget").appendTo(".tf-hotel-adv-results").css("position","absolute")}}),t("#tf-destination-adv").on("focus",function(){""==t("#tf-destination-adv").val()&&(console.log("is empty, force search with blank terms..."),t("#tf-destination-adv").autocomplete("search",""))});var S=tf_params.tf_tourdestinationlists;t("#tf-tour-location-adv").autocomplete({source:S,minLength:0,open:function(){t(this).autocomplete("widget").appendTo(".tf-tour-results").css("position","absolute")}}),t("#tf-tour-location-adv").on("focus",function(){""==t("#tf-tour-location-adv").val()&&(console.log("is empty, force search with blank terms..."),t("#tf-tour-location-adv").autocomplete("search",""))}),t(".tf-accordion-head").click(function(){t(this).toggleClass("active"),t(this).parent().find(".arrow").toggleClass("arrow-animate"),t(this).parent().find(".tf-accordion-content").slideToggle(),t(this).parents("#tf-accordion-wrapper").siblings().find(".tf-accordion-content").slideUp()}),t(".tf-faq-title").click(function(){t(this).toggleClass("active"),t(this).parent().find(".arrow").toggleClass("arrow-animate"),t(this).parent().find(".tf-faq-desc").slideToggle(),t(this).parents("#tf-faq-item").siblings().find(".tf-faq-desc").slideUp()}),t(window).on("load",function(){t(".tf-tablinks").length>0&&t(".tf-tablinks").first().trigger("click").addClass("active")}),t(document).on("change",'select[name="tf-booking-form-tab-select"]',function(){var e=t(this).val();tfOpenForm(event,e)})}),t(".acr-select .child-inc").on("click",function(){var e=t('div[id^="tf-age-field-0"]'),i=t('div[id^="tf-age-field-"]:last');if(0!=i.length)var n=parseInt(i.prop("id").match(/\d+/g),10)+1;var a=i.clone().prop("id","tf-age-field-"+n);a.find("label").html("Child age "+n),a.find("select").attr("name","children_ages[]"),i.after(a),a.show(),e.hide()}),t(".acr-select .child-dec").on("click",function(){var e=t(".tf-children-age").length,i=t('div[id^="tf-age-field-"]:last');1!=e&&i.remove()})}(jQuery,window);