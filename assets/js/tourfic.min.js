(function(a,b){a(document).ready(function(){function c(a,c){function d(a){return!!a&&void(e(a),g>=a.length&&(g=0),0>g&&(g=a.length-1),a[g].classList.add("autocomplete-active"))}function e(a){for(var b=0;b<a.length;b++)a[b].classList.remove("autocomplete-active")}function f(b){for(var c=document.getElementsByClassName("autocomplete-items"),d=0;d<c.length;d++)b!=c[d]&&b!=a&&c[d].parentNode.removeChild(c[d])}var g;a.addEventListener("input",function(){var d,e,h=this.value;if(f(),!h)return!1;g=-1,d=document.createElement("DIV"),d.setAttribute("id",this.id+"autocomplete-list"),d.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(d);var i=[];for(const[b,g]of Object.entries(c))g.substr(0,h.length).toUpperCase()==h.toUpperCase()?(i.push("found"),e=document.createElement("DIV"),e.innerHTML="<strong>"+g.substr(0,h.length)+"</strong>",e.innerHTML+=g.substr(h.length),e.innerHTML+=`<input type='hidden' value="${g}" data-slug='${b}'> `,e.addEventListener("click",function(){let b=this.getElementsByTagName("input")[0];a.value=b.value,a.closest("input").nextElementSibling.value=b.dataset.slug,f()}),d.appendChild(e)):i.push("notfound");-1==i.indexOf("found")&&(e=document.createElement("DIV"),e.innerHTML+="Not Found",e.innerHTML+="<input type='hidden' value=''>",e.addEventListener("click",function(){a.value=this.getElementsByTagName("input")[0].value,f()}),d.appendChild(e))}),a.addEventListener("keydown",function(a){var b=document.getElementById(this.id+"autocomplete-list");b&&(b=b.getElementsByTagName("div")),40==a.keyCode?(g++,d(b)):38==a.keyCode?(g--,d(b)):13==a.keyCode&&(a.preventDefault(),-1<g&&b&&b[g].click())}),document.addEventListener("click",function(a){f(a.target)})}const d=new Notyf({ripple:!0,duration:3e3,dismissable:!0,position:{x:"right",y:"bottom"}});a(document).on("click","#tf-single-hotel-avail .tf-submit",function(b){if(b.preventDefault(),""==a.trim(a("input[name=check-in-out-date]").val()))return void(0===a("#tf-required").length&&a(".tf_booking-dates .tf_label-row").append("<span id=\"tf-required\" clss=\"required\"><b>"+tf_params.field_required+"</b></span>"));var c=a("input[name=tf_room_avail_nonce]").val(),d=a("input[name=post_id]").val(),e=a("select[name=adults] option").filter(":selected").val(),f=a("select[name=children] option").filter(":selected").val(),g=a("input[name=check-in-out-date]").val();jQuery.ajax({url:tf_params.ajax_url,type:"post",data:{action:"tf_room_availability",tf_room_avail_nonce:c,post_id:d,adult:e,child:f,check_in_out:g},success:function(b){a("html, body").animate({scrollTop:a("#rooms").offset().top},500),a("#rooms").html(b)},error:function(a,b){var c="";if(0===a.status)var c="Not connect.\n Verify Network.";else if(404==a.status)var c="Requested page not found. [404]";else if(500==a.status)var c="Internal Server Error [500].";else if("parsererror"===b)var c="Requested JSON parse failed.";else if("timeout"===b)var c="Time out error.";else if("abort"===b)var c="Ajax request aborted.";else var c="Uncaught Error.\n"+a.responseText;alert(c)}})}),a(document).on("click",".hotel-room-availability",function(b){b.preventDefault(),a("html, body").animate({scrollTop:a("#tf-single-hotel-avail").offset().top},500)}),a(document).on("click",".hotel-room-book",function(b){b.preventDefault();var c=a(this),d=a("input[name=tf_room_booking_nonce]").val(),e=a("input[name=post_id]").val(),f=a(this).closest(".room-submit-wrap").find("input[name=room_id]").val(),g=a(this).closest(".room-submit-wrap").find("input[name=unique_id]").val(),h=a("input[name=place]").val(),i=a("input[name=adult]").val(),j=a("input[name=child]").val(),k=a("input[name=check_in_date]").val(),l=a("input[name=check_out_date]").val(),m=a(this).closest(".reserve").find("select[name=hotel_room_selected] option").filter(":selected").val();a.ajax({type:"post",url:tf_params.ajax_url,data:{action:"tf_hotel_booking",tf_room_booking_nonce:d,post_id:e,room_id:f,unique_id:g,location:h,adult:i,child:j,check_in_date:k,check_out_date:l,room:m},beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),a(".tf_notice_wrapper").html("").hide()},complete:function(){c.unblock()},success:function(b){c.unblock();var d=JSON.parse(b);if("error"==d.status){var e="";return d.errors&&d.errors.forEach(function(a){e+="<div class=\"woocommerce-error\">"+a+"</div>"}),a(".tf_notice_wrapper").html(e).show(),a("html, body").animate({scrollTop:0},300),!1}d.redirect_to?window.location.replace(d.redirect_to):jQuery(document.body).trigger("added_to_cart")},error:function(a){console.log(a)}})}),a("[data-fancybox=\"hotel-gallery\"]").fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1});var e=a(".swiper-button-prev"),f=a(".swiper-button-next");a(".single-slider-wrapper .tf_slider-for").slick({slide:".slick-slide-item",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,dots:!1,centerMode:!1,variableWidth:!1}),e.on("click",function(){a(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickPrev")}),f.on("click",function(){a(this).closest(".single-slider-wrapper").find(".tf_slider-for").slick("slickNext")}),a(".reserve-button a").click(function(){a("html, body").animate({scrollTop:a("#rooms").offset().top-32},1e3)}),a(document).on("submit","form.tf_tours_booking",function(b){b.preventDefault();var c=a(this),d=new FormData(this);d.append("action","tf_tours_booking");var e=0;jQuery(".tour-extra-single input:checkbox:checked").each(function(){e+=isNaN(parseInt(jQuery(this).val()))?0:parseInt(jQuery(this).val())}),d.append("tour_extra_total",e);var f=a(".tour-extra-single input:checkbox:checked").map(function(){return a(this).data("title")}).get();d.append("tour_extra_title",f),a.ajax({type:"post",url:tf_params.ajax_url,data:d,processData:!1,contentType:!1,beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),a(".tf_notice_wrapper").html("").hide()},complete:function(){c.unblock()},success:function(b){c.unblock();var d=JSON.parse(b);if("error"==d.status){var e="";return d.errors&&d.errors.forEach(function(a){e+="<div class=\"woocommerce-error\">"+a+"</div>"}),a(".tf_notice_wrapper").html(e).show(),a("html, body").animate({scrollTop:0},300),!1}d.redirect_to?window.location.replace(d.redirect_to):jQuery(document.body).trigger("added_to_cart");console.log(d)},error:function(a){console.log(a)}})}),a("[data-fancybox=\"tour-gallery\"]").fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","close"],hash:!1}),a(".tf-single-tour-pricing .tf-price-tab li").click(function(){var b=a(this).attr("id");a(this).addClass("active").siblings().removeClass("active"),a(".tf-price").addClass("tf-d-n"),a("."+b+"-price").removeClass("tf-d-n")});var g;const h=()=>{var b=a("#tf-place").val(),c=a("#adults").val(),e=a("#room").val(),f=a("#children").val(),h=a("#check-in-out-date").val(),i=h.split(" to "),j=i[0],k=i[1],l=a(".tf-post-type").val(),m=[];a("[name*=tf_filters]").each(function(){a(this).is(":checked")&&m.push(a(this).val())});var m=m.join(),n=[];a("[name*=tf_features]").each(function(){a(this).is(":checked")&&n.push(a(this).val())});var n=n.join(),o=new FormData;o.append("action","tf_trigger_filter"),o.append("type",l),o.append("dest",b),o.append("adults",c),o.append("room",e),o.append("children",f),o.append("checkin",j),o.append("checkout",k),o.append("filters",m),o.append("features",n),o.append("checked",h),g&&4!=g.readyState&&g.abort(),g=a.ajax({type:"post",url:tf_params.ajax_url,data:o,processData:!1,contentType:!1,beforeSend:function(){a(".archive_ajax_result").block({message:null,overlayCSS:{background:"#fff",opacity:.5}})},complete:function(){a(".archive_ajax_result").unblock()},success:function(b){a(".archive_ajax_result").unblock(),a(".archive_ajax_result").html(b),d.success(tf_params.ajax_result_success)},error:function(a){console.log(a)}})};a(document).on("submit","#tf-widget-booking-search",function(a){a.preventDefault(),h()}),a(document).on("change","[name*=tf_filters],[name*=tf_features]",function(){h()}),a.fn.inViewport=function(c){return this.each(function(d,e){function f(){var d=a(this).height(),f=e.getBoundingClientRect(),g=f.top,h=f.bottom;return c.call(e,Math.max(0,0<g?d-g:h<d?h:d))}f(),a(b).on("resize scroll",f)})},a(window).load(function(){jQuery("[data-width]").each(function(){var a=jQuery(this),b=a.attr("data-width");a.inViewport(function(c){0<c?a.css("width",+b+"%"):a.css("width","0%")})})}),a(".share-toggle[data-toggle=\"true\"]").click(function(b){b.preventDefault();var c=a(this).attr("href");a(c).slideToggle("fast")}),a("button#share_link_button").click(function(){a(this).addClass("copied"),setTimeout(function(){a("button#share_link_button").removeClass("copied")},3e3),a(this).parent().find("#share_link_input").select(),document.execCommand("copy")}),a(".faq-head").click(function(){a(this).parent().toggleClass("active").find(".faq-content").slideToggle("fast")}),a(".itinerary-head").on("click",function(){a(this).parent().toggleClass("active").find(".itinerary-content").slideToggle("fast")}),a(".tf-suggestion-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplaySpeed:2e3,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),a(".tf-review-items-wrapper").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:2e3,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]});const i="wishlist_item",j=()=>{let a=localStorage.getItem(i);return null===a?[]:JSON.parse(a)},k=a=>{let b=j();return!(0!==b.filter(b=>b.post==a.post).length)&&(b.push(a),localStorage.setItem(i,JSON.stringify(b)),!0)},l=()=>{let b=a(".tf-wishlist-holder");a.each(b,function(b,c){let d=a(c).data("type");d=d?d.split(","):void 0;let e=j();d!==void 0&&(e=e.filter(a=>d.includes(a.type)));let f=e.map(a=>a.post),g={nonce:a(c).data("nonce"),action:"tf_generate_table",ids:f};a.post(tf_params.ajax_url,g,function(b){b.success&&a(c).html(b.data)})})},m=a=>{let b=j(),c=b.findIndex(b=>b.post==a);return console.log(c,a,b),!!(0<=c)&&(b.splice(c,1),console.log(b),localStorage.setItem(i,JSON.stringify(b)),"1"!=tf_params.single&&l(),!0)},n=a=>{a.addClass("remove-wishlist"),a.addClass("fas"),a.addClass("tf-text-red"),a.removeClass("far"),a.removeClass("add-wishlist")},o=a=>{a.addClass("add-wishlist"),a.addClass("far"),a.removeClass("fas"),a.removeClass("tf-text-red"),a.removeClass("remove-wishlist")};a(document).on("click",".add-wishlist",function(){let b=a(".add-wishlist"),c={type:b.data("type"),post:b.data("id")},e=b.data("page-title"),f=b.data("page-url"),g=void 0===f?"":"<a class=\"wish-button\" href=\""+f+"\">"+e+"</a>";return a("body").hasClass("logged-in")?(c.action="tf_add_to_wishlists",c.nonce=b.data("nonce"),a.ajax({type:"post",url:tf_params.ajax_url,data:c,beforeSend:function(){d.success(tf_params.wishlist_add)},success:function(a){a.success&&(n(b),d.success({message:a.data+g,duration:4e3}))}})):!0===k(c)?(d.success(tf_params.wishlist_add),n(b),d.success({message:tf_params.wishlist_added+g,duration:4e3})):d.error(tf_params.wishlist_add_error),!1}),a("body").find(".tf-wishlist-holder").length&&l(),a(document).on("click",".remove-wishlist",function(){let b=a(".remove-wishlist"),c=b.data("id");if(a("body").hasClass("logged-in")){let e=b.closest("table"),f=e.data("type"),g={id:c,action:"tf_remove_wishlist",type:f,nonce:b.data("nonce")};a.get(tf_params.ajax_url,g,function(a){a.success&&("1"!=tf_params.single&&e.closest(".tf-wishlists").html(a.data),o(b),d.success(tf_params.wishlist_removed))})}else!0==m(c)?(o(b),d.success(tf_params.wishlist_removed)):d.error(tf_params.wishlist_remove_error)}),(()=>{if(!a(document).hasClass("logged-in")&&a(document).find(".add-wishlist")){let c=a(".add-wishlist"),d=c.data("id"),e=j();var b=e.findIndex(a=>a.post==d);0<=b?n(c):o(c)}})();var p=document.getElementById("tf-location"),q=tf_params.locations;p&&c(p,q);var r=document.getElementById("tf-destination"),s=tf_params.tour_destinations;r&&c(r,s),a(window).scroll(function(){var b=a(".tf-tour-booking-wrap"),c=a(window).scrollTop();800<=c?b.addClass("tf-tours-fixed"):b.removeClass("tf-tours-fixed")}),a(document).on("click",".tf_selectperson-wrap .tf_input-inner,.tf_person-selection-wrap .tf_person-selection-inner",function(){a(".tf_acrselection-wrap").slideToggle("fast")}),jQuery(document).on("click",function(a){jQuery(a.target).closest(".tf_selectperson-wrap").length||jQuery(".tf_acrselection-wrap").slideUp("fast")}),a(".acr-inc").on("click",function(){var b=a(this).parent().find("input");b.val(parseInt(b.val())+1).change()}),a(".acr-dec").on("click",function(){var b=a(this).parent().find("input"),c=b.attr("min");b.val()>c&&b.val(b.val()-1).change()}),a(document).on("change","#adults",function(){var b=a(this).val();1<b?a(".adults-text").text(b+" "+tf_params.adult):a(".adults-text").text(b+" "+tf_params.adult)}),a(document).on("change","#children",function(){var b=a(this).val();1<b?a(".child-text").text(b+" "+tf_params.children):a(".child-text").text(b+" "+tf_params.children)}),a(document).on("change","#infant",function(){var b=a(this).val();1<b?a(".infant-text").text(b+" "+tf_params.infant):a(".infant-text").text(b+" "+tf_params.infant)}),a(document).on("change","#room",function(){var b=a(this).val();1<b?a(".room-text").text(b+" "+tf_params.room):a(".room-text").text(b+" "+tf_params.room)}),a(document).on("click","#reply-title",function(){var b=a(this);a("#commentform").slideToggle("fast","swing",function(){b.parent().toggleClass("active")})}),a(document).on("click","#tf-ask-question-trigger",function(b){b.preventDefault(),a("#tf-ask-question").fadeIn().find(".response").html("")}),a(document).on("click","span.close-aq",function(){a("#tf-ask-question").fadeOut()}),a(document).on("submit","form#ask-question",function(b){b.preventDefault();var c=a(this),d=new FormData(this);d.append("action","tf_ask_question"),a.ajax({type:"post",url:tf_params.ajax_url,data:d,processData:!1,contentType:!1,beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.5}}),c.find(".response").html(tf_params.sending_ques)},complete:function(){c.unblock()},success:function(a){c.unblock();var b=JSON.parse(a);"sent"==b.status?(c.find(".response").html(b.msg),c.find("[type=\"reset\"]").trigger("click")):c.find(".response").html(b.msg)},error:function(a){console.log(a)}})}),a(document).on("click",".change-view",function(b){b.preventDefault(),a(".change-view").removeClass("active"),a(this).addClass("active");var c=a(this).data("id");"grid-view"==c?a(".archive_ajax_result").addClass("tours-grid"):a(".archive_ajax_result").removeClass("tours-grid")});var t,u=!1,v=function(b){t&&4!=t.readyState&&t.abort(),t=a.ajax({url:b,contentType:!1,processData:!1,asynch:!0,beforeSend:function(){a(document).find(".tf_posts_navigation").addClass("loading"),u=!0},success:function(b){a(".archive_ajax_result").append(a(".archive_ajax_result",b).html()),a(".tf_posts_navigation").html(a(".tf_posts_navigation",b).html()),u=!1,a(document).find(".tf_posts_navigation").removeClass("loading")}})};a(document).on("click",".tf_posts_navigation a.next.page-numbers",function(b){b.preventDefault();var c=b.target.href?b.target.href:a(this).context.href;v(c),window.history.pushState({url:""+c+""},"",c)}),a(window).on("scroll",function(){a(".tf_posts_navigation a.next.page-numbers").each(function(c,d){var e=a(this),f=a(window).height(),g=d.getBoundingClientRect(),h=g.top,i=g.bottom,b=parseInt(h-f/2);!1===u&&f>=b&&e.trigger("click")})}),a(".tf-travel-text h4").click(function(){a(this).siblings(".tf-travel-contetn").slideToggle(),a(this).parents(".tf-travel-itinerary-item").siblings().find(".tf-travel-contetn").slideUp()}),a(".tf-faq-title").click(function(){a(this).siblings(".tf-faq-desc").slideToggle(),a(this).parents(".tf-faq-item").siblings().find(".tf-faq-desc").slideUp()}),a(".tf-header-menu-triger").click(function(){a(".tf-header-menu-wrap").slideToggle()})})})(jQuery,window);function tfOpenForm(a,b){var c,d,e;for(d=document.getElementsByClassName("tf-tabcontent"),c=0;c<d.length;c++)d[c].style.display="none";for(e=document.getElementsByClassName("tf-tablinks"),c=0;c<e.length;c++)e[c].className=e[c].className.replace(" active","");document.getElementById(b).style.display="block",document.getElementById(b).style.transition="all 0.2s",a.currentTarget.className+=" active"}jQuery("#tf-hotel-booking-form").css("display","block");function tf_load_rating(){jQuery("#commentform").show()}